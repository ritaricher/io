<!DOCTYPE html>
<html lang="zh-cn">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<style type=text/css>
		body{font-family:Verdana,sans-serif;}
		html {overflow-y: scroll}
		:root { --bgcolor: white; --fontcolor: #0f0f0f; --linkcolor: #136ec2; --visitedcolor: #136ec2; --precolor: #fff; --prebgcolor: #088f6f;}
		@media (prefers-color-scheme: dark) { :root { --bgcolor: black; --fontcolor: white; --linkcolor: #5bf; --visitedcolor: #ae5ee0; --precolor: #fff; --prebgcolor: #383838;}}
		 
		body{margin:20px auto;padding:0 10px;font-size:21px;color:var(--fontcolor); background: white;line-height: 1.7;}
		a:link{color: var(--linkcolor);}a:visited{color: var(--visitedcolor)}a:active{color: var(--visitedcolor)}a:hover{color: red;text-decoration:underline red;} h1,h2,h3,h4,h5,h6{line-height:1.2}
		p > code{color: var(--precolor); background: var(--prebgcolor); padding:2px}
		code{color: var(--precolor); background: var(--prebgcolor); padding:2px}
		pre{color: var(--precolor); background: var(--prebgcolor); padding:24px; overflow-x: auto}
		article{padding:10px 0}
		.center {display: block;margin-left: auto;margin-right: auto;width: 100%;}
		figcaption {color: #888; font: 12px/1.5 monospace; text-align: center;}
		figure {margin: auto}
		img {display: block; max-width: 100%; height: auto; margin: auto}
		body header nav{margin:1px 0px 40px 0px;text-align: center;}	
		body header nav a{text-decoration: none;font-size: 15px;margin-right: 15px;}
		body article blockquote{font-size: 17px;color: #735e5e;background-color: #cff2ac;padding-left: 5px;margin-left: 15px;}

		body main article h1 a{text-decoration: none;}
		body main #articleid-index{margin:15px auto;}
		body main #articleid-index #titleid-index a{text-decoration: none;}
		body main #articleid-index #tagid-index a{font-size: 14px;color:#136dc28e;}
		body footer p{font-size: 16px;text-align: center;}
	
		body .maincss {width:600px;margin:auto;}
		body .maincss div h1{text-align: center;}
		body .maincss ul {list-style: decimal;color: #136ec2;}
		body aside .latestposts{width:600px;margin:auto;}
		body aside .latestposts div ul {list-style: decimal;color: #136ec2;}

		table {border-collapse: collapse;margin: 1rem 0;display: block;overflow-x: auto;}
		thead {background-color: #f6f8fa;}
		tr {border-top: 1px solid #dfe2e5;}
		td, th {border: 1px solid #cdd0d3;padding: .6em 1em;}

		body .aritclemain {display: grid;grid-template-columns: 23% minmax(300px,1000px);gap: 1.5vw;grid-auto-flow: row;margin: 0 10vw;}

		@media screen and (max-width:1400px){
			body .aritclemain {
				margin: 0 2vw;
			}
		}

		@media screen and (max-width:1200px){
			body .aritclemain {
				margin: 0 1vw;
				gap: 1vw;
			}
		}

		@media screen and (max-width:1000px){
			body .aritclemain {
				margin: 0;
				gap: 0.8vw;
			}
			body header .topnav {display: none;}
		}





		body main .articletoc #TableOfContents ul{padding-left: 20px;}
		body main .articletoc li{list-style-type: none;}
		body main .articletoc #TableOfContents li a{text-decoration: none;}

		body header .topnav {background-color: rgb(253 255 254);position: fixed;top :0;left:0;width: 100%;box-shadow: 0 0.06rem 3px 0 rgb(193 215 215);height: 45px;z-index: 10;display: none;}



	</style>
	
	<style type=text/css>
		body main #articleid h1,h2,h3,h4,h5,h6{background-color: #a3ccf54d;padding-left: 8px; margin-left: 1px;border-radius: 4px;}
		body main #articleid h2{border-inline-start: 5px solid #f7275fd9;font-size: 26px;}
		body main #articleid h3{border-inline-start: 4px solid #f707c7;margin-left: 4px;font-size: 23px;color: #3a3434;}
		body main #articleid h4{border-inline-start: 4px solid #df54c3c5;margin-left: 6px;font-size: 20px;color: #3a3434;}
		body main #articleid h5{border-inline-start: 3px solid #df54c367;margin-left: 8px;color: #3a3434;}
		body main #articleid h6{border-inline-start: 3px solid #56a2e147;margin-left: 10px;color: #3a3434;}
		body main #contentid{font-size: 20px;}
	</style>
	

	
	
	<link rel="canonical" href="http://localhost:1313/posts/9b09/">
	<title>静态网站加速，正确配置cloudflare|网站优化seo</title><meta name="author" content="999338.xyz">

    <link rel="shortcut icon" href="data:image/png;base64,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">            
	
	
	



<style type=text/css>
	@media screen and (max-width:800px){
		body {margin: 10px 5px;padding: 0;overflow-x: hidden;}
		body .maincss {width:100%;}
		body aside .latestposts{width:100%;}
		body .articletoc {display: none;}
		body .aritclemain {grid-template-columns: 100%;margin: 0;}
		body main #contentid table {font-size: 0.7em;}
		body header .topnav {display: block;}
		body header .mainnav {margin-top: 70px;}
		body header nav a {margin-right: 0.4em;}
		body main #contentid {font-size: 1em;}
	}
</style>

</head>
<body>

	<header>

	
	

	
	


	<style type=text/css>
		body header .topnav .topnavimg1 {position: fixed;width:32px;height: 35px;margin:4px 0 0 23px;}
		body header .topnavtoc {position:fixed;top:39px;left:0;z-index:11;background-color: white;width:55%;height:100%;box-shadow: 2px 7px 5px #868d8b;padding-top: 2vw;overflow-y:auto;display:none;}
		body header .topnavtoc span {margin-left: 18vw;}
		body header .topnavtoc #TableOfContents {text-align: left;padding-bottom: 3vw;font-size: 0.8em;}
		body header .topnavtoc #TableOfContents ul {margin-top: 0;padding-left: 3vw;list-style-type: none;}
	</style>

	<div class="topnav" id="topnavid">
		<img class="topnavimg1" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAT0lEQVR4nO3WwQkAIAwDwIzezesWKuEO8jf4aBIAHpmSZEuS1w9QJK0/MiUBAPLBRTbj0zoatySpKTIlAQDywUU249M6GrckqSkyJQEg1x3OPOvHECpbTAAAAABJRU5ErkJggg==" onclick="topnavjs()">
	</div>
	<div class="topnavtoc" id="topnavtocid">
		<span>目录</span>
		<nav id="TableOfContents">
  <ul>
    <li><a href="#一简介">一、简介</a></li>
    <li><a href="#二静态网站部分缓存">二、静态网站部分缓存</a>
      <ul>
        <li><a href="#1创建cache-rules">1、创建cache rules</a></li>
        <li><a href="#2cache-rules规则设置">2、Cache Rules规则设置</a></li>
        <li><a href="#3缓存配置">3、缓存配置</a></li>
      </ul>
    </li>
    <li><a href="#三其他设置">三、其他设置</a>
      <ul>
        <li><a href="#速度优化">速度优化</a></li>
      </ul>
    </li>
  </ul>
</nav>

	</div>

	<nav class="mainnav" id="mainnavid">
		<a href="http://localhost:1313/">999338.xyz</a> 
		
		
		
		<a href="http://localhost:1313/posts/">Posts</a> 
		
		
		<a href="http://localhost:1313/categories/">Categories</a> 
		
		
		<a href="http://localhost:1313/tags/">Tags</a> 
		
	</nav>
	
	
</header>

	
	<main class="aritclemain">
		<div class="articletoc">
			<div style="position: sticky;top:15px;font-size: 0.65em;border: 1px solid rgba(0, 0, 0, .1);margin-top: 40px;">
				<li style="background-color: rgb(227 240 252);font-weight: bold;text-align: center;font-size: 18px;">目录</li>
				<nav id="TableOfContents">
  <ul>
    <li><a href="#一简介">一、简介</a></li>
    <li><a href="#二静态网站部分缓存">二、静态网站部分缓存</a>
      <ul>
        <li><a href="#1创建cache-rules">1、创建cache rules</a></li>
        <li><a href="#2cache-rules规则设置">2、Cache Rules规则设置</a></li>
        <li><a href="#3缓存配置">3、缓存配置</a></li>
      </ul>
    </li>
    <li><a href="#三其他设置">三、其他设置</a>
      <ul>
        <li><a href="#速度优化">速度优化</a></li>
      </ul>
    </li>
  </ul>
</nav>
			</div>
		</div>
		<article id="articleid">
			<h1>静态网站加速，正确配置cloudflare|网站优化seo</h1>
			
		       
		           <a href="http://localhost:1313/tags/seo/" style="border:1px solid #0a739c;text-decoration: none;border-radius:5px;padding:2px 3px;background-color: white;font-size: 14px;">seo</a>
        	       
			<div id="contentid">
				<h2 id="一简介">一、简介</h2>
<p><span style="background-color: #FFFF00;">静态网站加速的前提：</span></p>
<p>如要启用Cloudflare CDN的功能，需检查DNS代理状态，激活后有一个橙色的云朵。</p>
<p><span style="background-color: #FFFF00;">Cloudflare缓存知识点：</span></p>
<ol>
<li>Cloudflare的默认缓存配置，仅对静态资源生效，比如js、css、jpg等等；刷新和缓存时间，一般为2小时。</li>
<li>Cache Rules的优先级高于Page Rules。如果Cache Rules中的规则与Page Rules冲突，Cache Rules规则会覆盖Page Rules规则。</li>
<li>Cache Rules规则从上往下，权重是递增的。如果规则有冲突，下面的规则会覆盖上面的规则。</li>
</ol>
<h2 id="二静态网站部分缓存">二、静态网站部分缓存</h2>
<h3 id="1创建cache-rules">1、创建cache rules</h3>
<p><span style="background-color: #FFFF00;">右上角选择简体中文 - 规则 - cache rules - 创建规则</span></p>
<p>
<figure>
  <img src="https://p.999338.xyz/202409/2024092801.webp" alt="cloudflare rules" />
</figure>


</p>
<h3 id="2cache-rules规则设置">2、Cache Rules规则设置</h3>
<p><span style="background-color: #FFFF00;">缓存Cache Rules：指定应缓存哪些资源以及缓存多长时间。</span></p>
<ul>
<li>1、规则名称：缓存文章内容</li>
<li>2、自定义筛选表达式</li>
<li>3、字段：URL完整，运算符：通配符，值：https://example.com/posts/*
<ul>
<li>表达式预览：(http.request.full_uri wildcard  &ldquo;<a href="https://example.com/posts/">https://example.com/posts/</a>*&rdquo;)</li>
</ul>
</li>
<li>4、缓存资格：符合缓存条件</li>
<li>5、边缘TTL：忽略缓存控制标头，使用此TTL。
<ul>
<li>生存时间选择一年</li>
<li>边缘TTL指的是设置CDN节点服务器的缓存时间，使静态网站能够更快地被缓存并分发到全球各地的用户。</li>
</ul>
</li>
<li>6、浏览器TTL：替代源服务器，使用此TTL。
<ul>
<li>生存时间选择一个月</li>
<li>对于不经常变化的静态网站，可以设置较长的TTL，以便浏览器直接从缓存中加载资源，而无需再次请求服务器。</li>
</ul>
</li>
<li>7、重新验证时不提供过时内容
<ul>
<li>勾选打开，CDN节点服务器每次都会验证，Cloudflare不会提供旧内容，同时从源服务器获取最新内容。确保缓存的内容是最新的。</li>
</ul>
</li>
<li>8、保存</li>
</ul>
<p>
<figure>
  <img src="https://p.999338.xyz/202409/20241001001.webp" alt="cloudflare cache rules" />
</figure>


</p>
<h3 id="3缓存配置">3、缓存配置</h3>
<p><span style="background-color: #FFFF00;">缓存 - 配置</span></p>
<ul>
<li>缓存级别：忽略查询字符串</li>
<li>浏览器缓存TTL：一个月</li>
</ul>
<p>
<figure>
  <img src="https://p.999338.xyz/202409/20240930001.webp" alt="cloudflare缓存配置" />
</figure>


</p>
<p><span style="background-color: #FFFF00;">Crawler Hints</span></p>
<ul>
<li>优化搜索引擎爬虫抓取新内容，Cloudflare会立即检测到你的内容更新，并通过IndexNow协议向搜索引擎发送更新通知。</li>
</ul>
<p><span style="background-color: #FFFF00;">Always Online</span></p>
<ul>
<li>启用Always Online后，如果你的源服务器出现故障，Cloudflare将从其缓存中提供页面，因此访问者仍然可以看到其访问的页面。</li>
</ul>
<p>
<figure>
  <img src="https://p.999338.xyz/202409/20240930002.webp" alt="cloudflare缓存配置" />
</figure>


</p>
<p><span style="background-color: #FFFF00;">Tiered Cache</span></p>
<ul>
<li>Smart Tiered Caching Topology：在Cloudflare CDN网络中使用经过优化的路由，更快、更可靠且更安全地为您的用户提供响应。分层缓存策略Tiered Cache将缓存划分为多个层次，每个层次具有不同的容量和速度。</li>
</ul>
<p>
<figure>
  <img src="https://p.999338.xyz/202409/20240930003.webp" alt="cloudflare缓存配置" />
</figure>


</p>
<h2 id="三其他设置">三、其他设置</h2>
<h3 id="速度优化">速度优化</h3>
<p><span style="background-color: #FFFF00;">速度 - 优化 -内容优化</span></p>
<ul>
<li>Speed Brain：指示浏览器发出推测性预取请求，来加快下一页导航的加载时间。</li>
<li>Cloudflare Fonts：优化字体加载。Cloudflare Fonts 减少了对第三方字体的外部请求，从而改进了私密性和性能，加快了页面加载速度。</li>
<li>Early Hints：在浏览器向服务器发出请求，等待收到回应之前，由边缘网络先发送页面加载提示给浏览器，让浏览器先开始准备渲染页面需要的资源，当浏览器收到服务器回应后，就能够更快速地完整渲染。</li>
</ul>
<p>
<figure>
  <img src="https://p.999338.xyz/202409/20240930004.webp" alt="cloudflare速度优化" />
</figure>


</p>
<br/>

			</div>
		</article>
	</main>

<aside>
	<div class="latestposts">
		<div>
			<strong>LATEST POSTS</strong>
		</div>
		<div>
			<ul>
				
				
				<li><a href="http://localhost:1313/posts/10b11/">在交易领域，推荐使用简单的交易系统有其深刻的原因</a></li>
				
				
				<li><a href="http://localhost:1313/posts/10b10/">交易如何做到知行合一 | 股市期货交易</a></li>
				
				
				<li><a href="http://localhost:1313/posts/9b09/">静态网站加速，正确配置cloudflare|网站优化seo</a></li>
				
				
				<li><a href="http://localhost:1313/posts/9b08/">十年48元最便宜的域名，6位数字xyz域名spaceship注册教程</a></li>
				
				
				<li><a href="http://localhost:1313/posts/9b07/">org域名价格对比列表（人民币），注册多少钱</a></li>
				
			</ul>
		</div>
	</div>
</aside>
	



	<footer>
	<p>&copy; 2024 &nbsp;<a href="http://localhost:1313/">999338.xyz</a>&nbsp;
	<a href="http://localhost:1313/sitemap.xml">sitemap</a>
	
	
			
	
	</p>
</footer>

</body>

<script>
	
	function editA(){
	var aN = document.getElementById('articleid').getElementsByTagName("a");
	console.log(aN);
	for(var i =0; i < aN.length; i++){
	aN[i].target ="_blank"; 
	}}
	editA();
</script>

<script>
	
	let topnavtocdis = false;
	function topnavjs() {
		if(topnavtocdis){
			document.getElementById('topnavtocid').style.display = "none";			
			topnavtocdis = false;
		}
		else{
			document.getElementById('topnavtocid').style.display = "block";
			topnavtocdis = true;
		}
	}


	
	let lastScrollTop = 0; 
	window.addEventListener('scroll', function() {
    
    const currentScrollTop = window.pageYOffset || document.documentElement.scrollTop;
    
    if (currentScrollTop < lastScrollTop) {
        
        if (lastScrollTop - currentScrollTop >= 18) {
            
			
			if (window.innerWidth < 800) {
				document.getElementById('topnavid').style.display = "block";
				document.getElementById('topnavtocid').style.display = "none";
				topnavtocdis = false;
				console.log('向上');
			}else{
				document.getElementById('topnavid').style.display = "none";
				document.getElementById('topnavtocid').style.display = "none";
				topnavtocdis = false;
			}
        }
    } 
    
    else if (currentScrollTop > lastScrollTop) {
        
        if (currentScrollTop - lastScrollTop >= 18) {
            
			document.getElementById('topnavid').style.display = "none";
			document.getElementById('topnavtocid').style.display = "none";
			topnavtocdis = false;
        }
    }
    
    lastScrollTop = currentScrollTop <= 0 ? 0 : currentScrollTop; 
});
  </script>
<script>
	
	
	window.addEventListener('resize', function() {
		if (window.innerWidth > 800){
			document.getElementById('topnavid').style.display = "none";
			document.getElementById('topnavtocid').style.display = "none";
			document.getElementById('mainnavid').style.marginTop = "0px";
		}
	});

	
	window.addEventListener('resize', function() {
	if (window.innerWidth < lastWidth) { 
		
		if (window.innerWidth <= 800 && lastWidth > 800){
			document.getElementById('topnavid').style.display = "block";
			document.getElementById('mainnavid').style.marginTop = "70px";
		}
	}
	lastWidth = window.innerWidth; 
	});
	let lastWidth = window.innerWidth; 
</script>

</html>
